<div class="card text-center">
    <div class="card-header">
        <b>Prescription</b>
    </div>
    <div class="card-body">
        <form #form="ngForm" (submit) = "checkPharmaciesAvailability(form)">
            <input type="hidden">
            <div class="form-group">
                <label>Patient health card number:</label>
                <input class="form-control" type="text" [(ngModel)] = "prescription.PatientId" name="patientId" />
            </div>
            <div class="form-group">
                <label>Patient name:</label>
                <input class="form-control" type="text" [(ngModel)] = "prescription.PatientName" name="patientName"/>
            </div>
            <div class="form-group">
                <label for="exampleFormControlTextarea1">Diagnosis:</label>
                <textarea minlength="1" class="form-control" id="feedbackText" rows="5" [(ngModel)] = "prescription.Diagnosis" name="diagnosis" required></textarea>
            </div>
            <div class="form-group">
                <label>Medicine:</label>
                 <input class="form-control" type="text" [(ngModel)] = "prescription.MedicineName" name="medicineName"/>
            </div>
            <div class="form-group">
                <label>Dose:</label>
                <input class="form-control" type="text" [(ngModel)] = "prescription.RecommendedDose" name="recommendedDose"/>
            </div>
            <div class="form-group">
                <label for="exampleFormControlTextarea1">Therapy start:</label>
                <input class="form-control" type="date" [(ngModel)] = "prescription.TherapyStart" name="therapyStart"/>
            </div>
            <div class="form-group">
                <label for="exampleFormControlTextarea1">Therapy end:</label>
                <input class="form-control" type="date" [(ngModel)] = "prescription.TherapyEnd" name="therapyEnd"/>
            </div>
            <div class="form-group">
                <label for="exampleFormControlTextarea1">Quantity:</label>
                <input class="form-control" type="number" min="1" step="1" [(ngModel)] = "prescription.Quantity" name="quantity" />
            </div>
            <div class="form-group">
                <label>Doctor name:</label>
                <input class="form-control" type="text" [(ngModel)] = "prescription.DoctorName" name="doctorName"/>
            </div><br/>
            <button type="submit" class="btn" >
                Search in pharmacies
            </button>
        </form>
    </div>
</div>

<div class="card text-center" *ngIf="checkPharmacies">
    <div class="card-header">
        Pharmacies
    </div>
    <div class="card-body">
        <select class="form-control" [(ngModel)] = "prescription.PharmacyName" name="pharmacyName">
            <option *ngFor='let pharmacy of pharmacies'>
                {{pharmacy.pharmacyName}}
            </option>
        </select><br/>
        <button type="submit" class="btn" (click)="sendPrescription()">
            Send prescription
        </button>
    </div>
</div>

<!--<div class="cards">

    <div class="card" *ngFor='let prescription of prescriptions'>
        <div class="card-header">
            <b>Prescription: {{prescription.Id}}</b>
        </div>
        <div class="card-body">
            <div>
                <label><b>Date:</b></label><br/>
                {{prescription.PrescriptionDate}}<br/><br/>
                <label><b>Pharmacy:</b></label><br/>
                Pharmacy1<br/> <br/>
                <label><b>Medicine:</b></label><br/>
                {{prescription.MedicineName}}<br/> <br/>
                <label><b>Quantity:</b></label><br/>
                {{prescription.Quantity}}<br/> <br/>
                <button type="submit" class="btn" (click)="checkAvailability(prescription)">
                    Check availability
                </button><br/><br/>
                <div class="form-group" >
                    <label>Choose method:</label>
                    <select class="form-control" required #Name="ngModel" [(ngModel)] = "method" [disabled]="!isAvailable">
                        <option>
                            SFTP
                        </option>
                        <option>
                            HTTP
                        </option>
                    </select>
                </div><br/>
                <button type="submit" class="btn" [disabled]="!isAvailable" (click)="sendPrescription(prescription)">
                    Send to pharmacy
                </button>
            </div>
        </div> 

    </div>
    
</div>-->
